<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="/css/layout/common.css">
</head>
<body>
<div th:fragment="headerFragment">
      <div class="header-border">
        <div class="header-wrap">
          <div class="top-links">
            <div class="top-link" sec:authorize="isAuthenticated()">
              <a th:text="${#authentication.principal.nickname}">님</a>님&nbsp;
              <form id="logoutForm" th:action="@{/logout}" method="POST">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
              </form>
              <a href="#" onclick="document.getElementById('logoutForm').submit();">로그아웃</a>
            </div>
            <div class="top-link" sec:authorize="!isAuthenticated()">
              <a onclick="window.location.href='/login'">로그인</a>
            </div>
            <div class="top-link"><a href="/faq">고객센터</a></div>
          </div>

          <div class="header-container">
            <div class="left-section">
              <a href="/" class="logo">
                <div class="img-wrap">
                  <img src="/images/ui/petory.png">
                </div>
              </a>
              <ul class="nav-menu">
                <li class="nav-item community">
                  <a href="/">커뮤니티</a>
                    <div class="community-badge">N</div>
                </li>
                <li class="nav-item">
                  <a href="/products">스토어</a>
                </li>
              </ul>
            </div>

            <div class="right-section">
              <div class="search-bar">
                <input type="text" class="search-input" placeholder="검색어를 입력해주세요.">
                <div class="search-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="#888888"/>
                  </svg>
                </div>
              </div>

              <div class="user-actions">


                <div class="icon-button">
                  <a href="/cart">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 18C5.9 18 5.01 18.9 5.01 20C5.01 21.1 5.9 22 7 22C8.1 22 9 21.1 9 20C9 18.9 8.1 18 7 18ZM17 18C15.9 18 15.01 18.9 15.01 20C15.01 21.1 15.9 22 17 22C18.1 22 19 21.1 19 20C19 18.9 18.1 18 17 18ZM7.17 14.75L7.2 14.63L8.1 13H15.55C16.3 13 16.96 12.59 17.3 11.97L21.16 4.96L19.42 4H19.41L18.31 6L15.55 11H8.53L8.4 10.73L6.16 6L5.21 4L4.27 2H1V4H3L6.6 11.59L5.25 14.04C5.09 14.32 5 14.65 5 15C5 16.1 5.9 17 7 17H19V15H7.42C7.29 15 7.17 14.89 7.17 14.75Z" fill="#333333"/>
                    </svg>
                    <div class="cart-badge" ></div>
                  </a>
                </div>

                <div class="icon-button">
                  <a href="/users/me">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="#333333"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  <script type="module" src="/js/header.js"></script>
</div>


</body>
</html>