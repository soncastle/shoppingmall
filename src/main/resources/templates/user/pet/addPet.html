<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>펫 등록</title>
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/addpet.css">
</head>
<body>
<div th:replace="fragment/header :: headerFragment"></div>
<div class="container">
  <div class="nav-bar"></div>
  <div class="pm-section">
      <section class="sec1 section-wrap">
        <div class="select-wrap">
          <div class="select-content">
            <div class="step">
              <h3>동물 선택</h3>
              <span>우리 아이는 강아지인가요? 고양이인가요?</span>
            </div>
            <div class="animal-wrap" >
              <div class="animal-img" data-animal="dog">
                <img src="/images/dog-img.png" >
              </div>
              <div class="animal-img" data-animal="cat">
                <img src="/images/cat-img.png">
              </div>
            </div>
            <div class="button-container">
              <button class="prev-Btn">이전</button>
              <button class="next-Btn">다음</button>
            </div>
          </div>
        </div>

      </section>
      <section class="sec2 section-wrap">
        <div class="select-wrap">
          <div class="select-content">
            <div class="step">
              <h3>기본 정보 입력</h3>
              <span>우리 아이의 정보를 입력해주세요</span>
            </div>

            <form id="petForm">
              <div>
                <label id="pet-name">반려동물 이름</label>
                <input type="text"  name="pet-name" placeholder="반려 동물의 이름을 입력해주세요">
              </div>
              <div>
                <label id="age">반려동물 나이</label>
                <input type="text" name="age" placeholder="나이를 입력해주세요">
              </div>

              <div>
                <label id="gender">성별</label>
                <input type="text" name="gender"
                       placeholder="성별을 선택해주세요">
              </div>

              <div>
                <label id="birthday">성별</label>
                <input type="text"  name="birthday" placeholder="생일을 입력해주세요 (월 까지만)">
              </div>
            </form>
            <div class="button-container">
              <button class="prev-Btn">이전</button>
              <button class="next-Btn">다음</button>
            </div>
          </div>
        </div>
      </section>
      <section class="sec3 section-wrap">
        <div class="select-wrap">
          <div class="select-content">
            <div class="step">
              <h3>프로필 등록</h3>
              <span>사진을 업로드하고 품종을 등록해주세요</span>
            </div>

              <select id="species" name="species" class="species">
                <option value="">품종을 선택해주세요</option>
                <option value="q1">코카스파니엘</option>
                <option value="q2">슈나우저</option>
                <option value="q3">푸들</option>
                <option value="q4">비숑</option>
              </select>

            <div class="button-container">
              <button class="prev-Btn">이전</button>
              <button class="next-Btn">등록 완료</button>
            </div>
          </div>
        </div>
      </section>
  </div>
</div>
<div th:replace="fragment/footer :: footerFragment"></div>

<script>
  document.addEventListener("DOMContentLoaded" , function () {
    let selectedAnimal = null;
    const sections = document.querySelectorAll(".section-wrap"); // 모든 섹션 가져오기
    const nextButtons = document.querySelectorAll(".next-Btn"); // 모든 "다음" 버튼 가져오기
    const prevButtons = document.querySelectorAll(".prev-Btn"); // (추가) 모든 "이전" 버튼 가져오기
    const animalBtns = document.querySelectorAll(".animal-img");

      let currentIndex = 0; // 현재 섹션 인덱스

      function showSection(index) {
        sections.forEach((section, i) => {
          section.style.display = i === index ? "block" : "none"; // 선택한 섹션만 보이게
        });
      }

      animalBtns.forEach((e) =>{
        e.addEventListener("click" , function() {
          animalBtns.forEach(item => item.classList.remove("active"));
          selectedAnimal = this.getAttribute("data-animal");
          console.log("선택된 동물:", selectedAnimal);
          this.classList.add("active")
        })
      })





      nextButtons.forEach((btn, index) => {
        btn.addEventListener("click", () => {
          if (currentIndex < sections.length - 1) {
            currentIndex++;
            showSection(currentIndex);
          }
        });
      });

      prevButtons.forEach((btn, index) => {
        btn.addEventListener("click", () => {
          if (currentIndex > 0) {
            currentIndex--;
            showSection(currentIndex);
          }
        });
      });

      showSection(currentIndex);

  })


</script>
</body>
</html>